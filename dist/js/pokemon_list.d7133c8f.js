(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pokemon_list"],{"159b":function(t,n,e){var i=e("da84"),s=e("fdbc"),a=e("785a"),o=e("17c2"),r=e("9112"),c=function(t){if(t&&t.forEach!==o)try{r(t,"forEach",o)}catch(n){t.forEach=o}};for(var l in s)s[l]&&c(i[l]&&i[l].prototype);c(a)},"17c2":function(t,n,e){"use strict";var i=e("b727").forEach,s=e("a640"),a=s("forEach");t.exports=a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"3d1b":function(t,n,e){"use strict";e("5731")},5731:function(t,n,e){},"71bb":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.is_loading||t.is_search?!t.is_loading&&t.is_search?e("div",{staticClass:"list"},[e("ul",{staticClass:"pokedex__list d-flex justify-content-center align-items-center"},t._l(t.search,(function(n,i){return e("li",{key:i,staticClass:"pokedex__list-item w-50"},[e("span",{staticClass:"pokemon-id"},[t._v(" "+t._s(t.pretty_id(n.id))+" ")]),e("div",{staticClass:"pokemon-image__container"},[e("div",{staticClass:"pokeball"}),e("router-link",{attrs:{to:"/pokemon-detail/"+n.id}},[e("img",{staticClass:"pokemon-image",attrs:{src:t.image_url+n.name+".png",alt:n.name}})])],1),e("span",{staticClass:"pokemon-name"},[t._v(" "+t._s(n.name)+" ")])])})),0)]):t._e():e("div",{staticClass:"list"},[e("ul",{staticClass:"pokedex__list"},t._l(t.pokemons,(function(n,i){return e("li",{key:i,staticClass:"pokedex__list-item"},[e("span",{staticClass:"pokemon-id"},[t._v(" "+t._s(t.pretty_id(i+1))+" ")]),e("div",{staticClass:"pokemon-image__container"},[e("div",{staticClass:"pokeball"}),e("router-link",{attrs:{to:"/pokemon-detail/"+(i+1)}},[e("img",{staticClass:"pokemon-image",attrs:{src:t.image_url+n.name+".png",alt:n.name}})])],1),e("span",{staticClass:"pokemon-name"},[t._v(" "+t._s(n.name)+" ")])])})),0)])},s=[],a=e("b85c"),o=(e("d3b7"),e("159b"),e("25f0"),e("4d90"),e("ac1f"),e("841c"),e("99af"),e("1157")),r=e.n(o),c={props:["image_url","api_url"],data:function(){return{pokemons:[],next_url:"",is_loading:!0,is_search:!1,search:[]}},methods:{fetch_data:function(t){var n=this;this.axios.get(t).then((function(t){200===t.status&&(n.next_url=t.data.next,t.data.results.forEach((function(t){n.pokemons.push(t)})))})).finally((function(){n.is_loading=!1})).then((function(){return n.infinite_scroll()}))},next:function(){this.fetch_data(this.next_url)},pretty_id:function(t){return t=t.toString(),t=t.padStart(3,"0"),t="#"+t,t},infinite_scroll:function(){var t=this,n=r()(".pokedex__list-item"),e=new IntersectionObserver((function(t){t.forEach((function(t){t.target.classList.toggle("show",t.isIntersecting)}))}),{threshold:.5}),i=new IntersectionObserver((function(n){var e=n[0];e.isIntersecting&&t.next_url&&(t.next(),i.unobserve(e.target))}),{rootMargin:"100px"});this.is_loading||this.is_search||i.observe(document.querySelector(".pokedex__list-item:last-child"));var s,o=Object(a["a"])(n);try{for(o.s();!(s=o.n()).done;){var c=s.value;e.observe(c)}}catch(l){o.e(l)}finally{o.f()}},search_pokemon:function(){var t=this;this.$bus.on("set_name",(function(n){t.search=[],t.is_search=!0,t.is_loading=!0,"zamazenta"!==n.toLowerCase()&&"zacian"!==n.toLowerCase()||(n=n.toLowerCase()+"-hero");var e="".concat(t.api_url).concat(n.toLowerCase());t.fetch_by_name(e),setTimeout((function(){return t.is_search=!1}),5e3)}))},fetch_by_name:function(t){var n=this;this.axios.get(t).then((function(t){200===t.status&&n.search.push(t.data)})).finally((function(){n.is_loading=!1})).then((function(){return n.infinite_scroll()}))}},mounted:function(){this.fetch_data(this.api_url),this.search_pokemon()},updated:function(){this.infinite_scroll()}},l=c,u=(e("3d1b"),e("2877")),_=Object(u["a"])(l,i,s,!1,null,"dc5f7884",null);n["default"]=_.exports},a640:function(t,n,e){"use strict";var i=e("d039");t.exports=function(t,n){var e=[][t];return!!e&&i((function(){e.call(null,n||function(){throw 1},1)}))}}}]);
//# sourceMappingURL=pokemon_list.d7133c8f.js.map